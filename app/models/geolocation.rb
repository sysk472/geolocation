class Geolocation < ApplicationRecord
# ------------------------------------------------------------------------------
  # Includes & Extensions
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Constants
  # ------------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Attributes
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Associations
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Validations
  #-----------------------------------------------------------------------------
  validates :data, presence: true
  validate :ip_url_validator
  #-----------------------------------------------------------------------------
  # Callbacks
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Nested Attributes
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Scopes
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Other
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Class Methods
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Instance Methods
  #-----------------------------------------------------------------------------

  #-----------------------------------------------------------------------------
  # Custom validations
  #-----------------------------------------------------------------------------
  def ip_url_validator
    if (ip.nil? && url.nil?)
      errors.add("miss ip or url")
    end
  end
end
